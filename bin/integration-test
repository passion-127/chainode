#!/bin/bash
# Bash script to execute integration tests

# Start test environment
echo -e "Starting dockerized environment."
cd docker-compose/
docker-compose -f network.yml -f nats.yml -f mongodb.yml -f docker-compose.yml -f integration-tests.yml up -d

# Execute integration tests
docker exec -it nodejs npm test
echo -e "Completed all integration tests."

# Stop the test environment
docker-compose -f network.yml -f nats.yml -f mongodb.yml -f docker-compose.yml -f integration-tests.yml down
cd ../
echo -e "Shutdown of dockerized environment."
